<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>2048 League</title>

  <link href="style/main.css" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="meta/apple-touch-icon.png">
  <link rel="apple-touch-startup-image" href="meta/apple-touch-startup-image-640x1096.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"> <!-- iPhone 5+ -->
  <link rel="apple-touch-startup-image" href="meta/apple-touch-startup-image-640x920.png"  media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"> <!-- iPhone, retina -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0, maximum-scale=1, user-scalable=no, minimal-ui">
</head>
<body>
  <div id="nologin">
    <div class="centered">
    <h1>You need to be logged in to play.</h1>
    <a href="../login" class="loginbutton button">Log in</a>
    <a href="../signup" class="signupbutton button">Sign up</a>
    </div>
  </div>
  <div class="container" style="filter: blur(4px)">
    <div id="below-header">
    <div class="heading">
      <h1 class="title">2048</h1>
      <div class="scores-container">
        <div class="score-container">0</div>
        <div class="best-container">0</div>
      </div>
    </div>
    <div id="leaderboardbox">
        <div id="leaderboard" onclick="change()">LEADERBOARD<br></div>
        <div class="leaderboardtile" id="rank1" style="color: #f9f6f2; font-size: 22px; background: #deba07">1</div>
        <div class="leaderboardtile" id="leaderboard1" style="margin-left:6px; width:200px;"></div>
        <br><br>
        <div class="leaderboardtile" id="rank2" style="color: #f9f6f2; font-size: 22px; background: #c7c2a7">2</div>
        <div class="leaderboardtile" id="leaderboard2" style="margin-left:6px; width:200px"></div>
        <br><br>
        <div class="leaderboardtile" id="rank3" style="color: #f9f6f2; font-size: 22px; background: #b88506">3</div>
        <div class="leaderboardtile" id="leaderboard3" style="margin-left:6px; width:200px"></div>
        <br><br>
        <div class="leaderboardtile" id="rank4" style="color: #f9f6f2; font-size: 22px; background: #000">4</div>
        <div class="leaderboardtile" id="leaderboard4" style="margin-left:6px; width:200px"></div>
        <br><br>
        <div class="leaderboardtile" id="rank5" style="color: #f9f6f2; font-size: 22px; background: #000">5</div>
        <div class="leaderboardtile" id="leaderboard5" style="margin-left:6px; width:200px"></div>
        <br><br>
        <div class="leaderboardtile" id="rank6" style="color: #f9f6f2; font-size: 22px; background: #000">6</div>
        <div class="leaderboardtile" id="leaderboard6" style="margin-left:6px; width:200px"></div>
        <br><br>
        <div class="leaderboardtile" id="rank7" style="color: #f9f6f2; font-size: 22px; background: #000">7</div>
        <div class="leaderboardtile" id="leaderboard7" style="margin-left:6px; width:200px"></div>
        <br><br>
        <div class="leaderboardtile" id="rank8" style="color: #f9f6f2; font-size: 22px; background: #000">8</div>
        <div class="leaderboardtile" id="leaderboard8" style="margin-left:6px; width:200px"></div>
        <br><br>
        <div class="leaderboardtile" id="rank9" style="color: #f9f6f2; font-size: 22px; background: #000">9</div>
        <div class="leaderboardtile" id="leaderboard9" style="margin-left:6px; width:200px"></div>
        <br><br>
        <div class="leaderboardtile" id="rank10" style="color: #f9f6f2; font-size: 18px; background: #000">10</div>
        <div class="leaderboardtile" id="leaderboard10" style="margin-left:6px; width:200px"></div>
        <br><br>
        <div class="leaderboardtile" id="ranku" style="color: #f9f6f2; font-size: 18px; background: #000">11</div>
        <div class="leaderboardtile" id="leaderboardu" style="margin-left:6px; width:200px"></div>
      </div>
    <div class="above-game">
      <p class="game-intro">Join the numbers and get to the <strong>2048 tile!</strong></p>
      <a class="restart-button">New Game</a>
    </div>

    <div class="game-container">
      <div class="game-message">
        <p></p>
        <div class="lower">
	        <a class="keep-playing-button">Keep going</a>
          <a class="retry-button">Try again</a>
        </div>
      </div>

      <div class="grid-container">
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
      </div>

      <div class="tile-container">

      </div>
    </div>
    <p class="game-explanation"></p>
    <p class="game-explanation">
      <strong class="important">How to play:</strong><br> Use your <strong>Arrow keys, WASD keys and/or HJKL keys</strong> to move the tiles. When two tiles with the same number touch, they <strong>merge into one!</strong> Use the <strong>R key</strong> to reset.
    </p>
    <hr>
    <p style="margin-bottom: 60px">
    Created by <a href="http://gabrielecirulli.com" target="_blank">Gabriele Cirulli.</a> Based on <a href="https://itunes.apple.com/us/app/1024!/id823499224" target="_blank">1024 by Veewo Studio</a> and conceptually similar to <a href="http://asherv.com/threes/" target="_blank">Threes by Asher Vollmer.</a>
    </p>
    </div>
  <div id="header">
  </div>
  </div>
  <script type="text/javascript">
    (function(){Object.prototype.convertString=function(){let t="{";for(let n in this){if(!this.hasOwnProperty(n))continue;let o=this[n];t+=`\n  ${n}: ${o="function"==typeof o?o.toString():o instanceof Array?JSON.stringify(o):"object"==typeof o?convert(o):"boolean"==typeof o?o:`"${o}"`},`}return t+="\n}"};})();
  </script>
  <script src="js/leaderboard.js"></script>
  <script src="js/bind_polyfill.js"></script>
  <script src="js/classlist_polyfill.js"></script>
  <script src="js/animframe_polyfill.js"></script>
  <script src="js/keyboard_input_manager.js"></script>
  <script src="js/html_actuator.js"></script>
  <script src="js/grid.js"></script>
  <script src="js/tile.js"></script>
  <script src="js/local_storage_manager.js"></script>
  <script src="js/game_manager.js"></script>
  <script src="js/application.js"></script>
  <script src="js/nocheat.js"></script>
  <script type="text/javascript">
  if(localStorage.username && localStorage.token) {
    
    document.getElementById('nologin').style.visibility = 'hidden';
    document.querySelector('.container').style.filter = '';
    document.getElementById('below-header').style ="position: relative; top: 50px";
    function loadHeader() {
      if(!rank) {
        setTimeout(loadHeader, 10);
      } else {
        document.getElementById('header').innerHTML = `
        <strong>${localStorage.username}</strong>
        <a class="leaderboardtile" onclick="localStorage.removeItem('username'); localStorage.removeItem('token'); window.location.reload();" style="color: #f9f6f2; font-size: 22px; float: right; position: relative; width: 140px; text-align: center; text-decoration: none; bottom: 13px; margin-left: 10px; background: #8f7a66">
        Log Out
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="vertical-align: -0.125em;-ms-transform: scale(1.2) rotate(360deg); -webkit-transform: scale(1.2) rotate(360deg); transform: scale(1.2) rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M16 13v-2H7V8l-5 4l5 4v-3z" fill="#FFFFFF"/><path d="M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z" fill="#FFFFFF"/></svg>
        </a>
        <a class="leaderboardtile" style="color: #f9f6f2; font-size: 22px; float: right; position: relative; bottom: 13px; margin-left: 10px; background: #8f7a66">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="vertical-align: -0.125em;-ms-transform: scale(1.5) rotate(360deg); -webkit-transform: scale(1.5) rotate(360deg); transform: scale(1.5) rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 36 36"><path class="clr-i-solid clr-i-solid-path-1" d="M32.57 15.72l-3.35-1a11.65 11.65 0 0 0-.95-2.33l1.64-3.07a.61.61 0 0 0-.11-.72l-2.39-2.4a.61.61 0 0 0-.72-.11l-3.05 1.63a11.62 11.62 0 0 0-2.36-1l-1-3.31a.61.61 0 0 0-.59-.41h-3.38a.61.61 0 0 0-.58.43l-1 3.3a11.63 11.63 0 0 0-2.38 1l-3-1.62a.61.61 0 0 0-.72.11L6.2 8.59a.61.61 0 0 0-.11.72l1.62 3a11.63 11.63 0 0 0-1 2.37l-3.31 1a.61.61 0 0 0-.43.58v3.38a.61.61 0 0 0 .43.58l3.33 1a11.62 11.62 0 0 0 1 2.33l-1.64 3.14a.61.61 0 0 0 .11.72l2.39 2.39a.61.61 0 0 0 .72.11l3.09-1.65a11.65 11.65 0 0 0 2.3.94l1 3.37a.61.61 0 0 0 .58.43h3.38a.61.61 0 0 0 .58-.43l1-3.38a11.63 11.63 0 0 0 2.28-.94l3.11 1.66a.61.61 0 0 0 .72-.11l2.39-2.39a.61.61 0 0 0 .11-.72l-1.66-3.1a11.63 11.63 0 0 0 .95-2.29l3.37-1a.61.61 0 0 0 .43-.58v-3.41a.61.61 0 0 0-.37-.59zM18 23.5a5.5 5.5 0 1 1 5.5-5.5a5.5 5.5 0 0 1-5.5 5.5z" fill="#FFFFFF"/></svg>
        </a>
        <div class="leaderboardtile" style="color: #f9f6f2; font-size: 22px; float: right; position: relative; bottom: 13px; background: #${(() => {
          switch(rank) {
            case 1:
              return 'deba07';
              break;
            case 2:
              return 'c7c2a7';
              break;
            case 3:
              return 'b88506';
              break;
            default:
              return '000';
          }
        })()}">${rank}</div>
        `;

      }
    }
    loadHeader();
  }
  </script>
</body>
</html>